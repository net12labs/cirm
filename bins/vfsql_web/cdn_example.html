<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VFSQL CDN Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
        }
        .example {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .example h3 {
            margin-top: 0;
        }
        code {
            background: #eee;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        img {
            max-width: 100%;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”— VFSQL CDN Example</h1>
        <p>This page demonstrates how to use VFSQL's CDN feature to serve files.</p>

        <div class="example">
            <h3>1. Upload a File</h3>
            <p>First, upload an image to your VFSQL instance:</p>
            <pre>curl -X POST http://localhost:8080/api/upload \
  -F "path=/images" \
  -F "files=@logo.png"</pre>
        </div>

        <div class="example">
            <h3>2. Get CDN URL</h3>
            <p>Get the CDN URL for the uploaded file:</p>
            <pre>curl http://localhost:8080/api/cdn-url/images/logo.png</pre>
            <p>Response:</p>
            <pre>{
  "url": "/cdn/7a8b9c0d1e2f/images/logo.png",
  "full_url": "http://localhost:8080/cdn/7a8b9c0d1e2f/images/logo.png",
  "path": "/images/logo.png",
  "hash": "7a8b9c0d1e2f"
}</pre>
        </div>

        <div class="example">
            <h3>3. Use in HTML</h3>
            <p>Use the CDN URL in your HTML:</p>
            <pre>&lt;img src="http://localhost:8080/cdn/7a8b9c0d1e2f/images/logo.png" alt="Logo"&gt;</pre>
            
            <p><strong>Example (replace with your URL):</strong></p>
            <!-- Replace this URL with an actual CDN URL from your VFSQL instance -->
            <img src="http://localhost:8080/cdn/example/placeholder.png" 
                 alt="Example" 
                 onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22200%22><rect width=%22400%22 height=%22200%22 fill=%22%23667eea%22/><text x=%2250%25%22 y=%2250%25%22 font-size=%2224%22 fill=%22white%22 text-anchor=%22middle%22 dy=%22.3em%22>Upload an image to see it here!</text></svg>'">
        </div>

        <div class="example">
            <h3>4. Benefits</h3>
            <ul>
                <li>âœ“ <strong>Cached for 1 year</strong> - Fast loading after first visit</li>
                <li>âœ“ <strong>CORS enabled</strong> - Works from any domain</li>
                <li>âœ“ <strong>ETag support</strong> - Efficient caching</li>
                <li>âœ“ <strong>Immutable</strong> - Browser can cache aggressively</li>
                <li>âœ“ <strong>No authentication required</strong> - Public access</li>
            </ul>
        </div>

        <div class="example">
            <h3>5. Use Cases</h3>
            <ul>
                <li>Host images for blog posts</li>
                <li>Serve CSS and JavaScript files</li>
                <li>Distribute fonts for websites</li>
                <li>Share files via permanent URLs</li>
                <li>Embed media in documentation</li>
                <li>API response data (JSON, XML)</li>
            </ul>
        </div>

        <div class="example">
            <h3>6. Cross-Origin Example</h3>
            <p>Test CORS by using the URL in another domain or CodePen:</p>
            <pre>// JavaScript fetch example
fetch('http://localhost:8080/cdn/7a8b9c0d1e2f/data/config.json')
  .then(response => response.json())
  .then(data => console.log(data));</pre>
        </div>
    </div>
</body>
</html>
